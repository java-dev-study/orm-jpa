JPA를 사용하는 데 가장 중요한 일은 엔티티와 테이블을 정확히 매핑 하는 것.

#### @Entity

- 기본 생성자는 필수
- final 클래스, enum, interface, inner 클래스에는 사용할 수 없다
- 저장할 필드에 final을 사용하면 안된다

#### 데이터베이스 스키마 자동 생성

- 운영 서버에서 create, create-drop, update처럼 DLL을 수정하는 옵션은 절대 사용하면 안된다
    - 더이터베이스의 테이블이나 컬럼을 삭제할 수 있다
- 개발 환경에 따른 추천 전략
    - 개발 초기 단계는 create 또는 update
    - 초기화 상태로 자동화된 테스트를 진행하는 개발자 환경과 CI 서버는 create 또는 create-drop
    - 테스트 서버는 update 또는 validate
    - 스테이징과 운영 서버는 validate 또는 none

#### 기본 키 매핑

- 엔티티가 영속 상태가 되려면 식별자가 반드시 필요하다. 그런데 IDENTITY 식별자 생성 전략은 엔티티를 데이터베이스에 저장해야 식별자를 구할 수 있으므로
em.persist()를 호출하는 즉시 INSERT SQL이 데이터베이스에 전달된다. 따라서 이 전략은 트랜잭션을 지원하는 쓰기 지연이 동작하지 않는다
