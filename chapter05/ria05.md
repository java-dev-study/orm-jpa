## Chapter05 연관관계 매핑 기초

### 5.1 단방향 연관관계

- 객체는 참조로 연관관계를 맺음 -> 객체 그래프 탐색
- 테이블은 외래키로 연관관계를 맺음 -> 조인

### 5.2 연관관계 사용

- JPA에서 엔티티를 저장할 때 연관된 모든 엔티티는 영속 상태여야함
- 연관된 엔티티를 삭제하려면 기존에 있던 연관관계를 먼저 제거하고 삭제해야함

### 5.3 양방향 연관관계

- 양방향 매핑일 때 `mappedBy` 속성으로 반대쪽 매핑의 필드 이름을 값으로 설정

### 5.4 연관관계의 주인

- 엔티티를 양방향 연관관계로 설정하면 객체의 참조는 둘인데 외래키는 하나이기 때문에 둘 사이에 차이가 발생함
- JPA에서는 연관관계 주인을 정해 두 객체 연관관계 중 하나를 정해 테이블의 외래키를 관리함
- 연관관계의 주인만이 데이터베이스 연관관계와 매핑되고 외래키를 관리(등록, 수정, 삭제)할 수 있으며, 주인이 아닌 쪽은 읽기만 할 수 있음
- 연관관계 주인은 테이블에 외래키가 있는 곳으로 정해야함

### 5.5 양방향 연관관계 저장

- 양방향 연관관계는 연관관계의 주인이 외래키를 관리함
- 주인이 아닌 곳에 입력된 값은 외래키에 영향을 주지 않음

### 5.6 양방향 연관관계의 주의점

- 양방향 연관관계는 양쪽 모두 관계를 맺어주는 것이 좋음
- 양방향 매핑은 복잡함

