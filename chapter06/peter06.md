# 다양한 연관관계 매핑 
- 다중성 (일대일 관계인지 다대일 관계인지)
- 단방향, 양방향
- 연관관계의 주인 

## 다대일 
- 양방향 관계에서 연관관계의 주인은 다쪽이다. 
- 양방향은 키가 있는 쪽이 연관관계의 주인이다. 
- 양방향 연관관계는 항상 서로를 참조해야 한다. 

## 일대다 
- 일대다 관계는 엔티티를 하나이상 참조할 수도 있으므로 자바 컬렉션인 Collection,List, Set, Map 중에 하나를 사용한다. 
- 일대다 단방향 관계를 매핑할 때는 @JoinColumn을 명시해야 한다. 
- 일대다 단방향 매핑의 단점 
 - 매핑한 객체가 관리하는 외래 키가 다른 테이블에 있다는 점 / insert 작업 후 외래키 update 작업이 따라간다. 
- 일대다 단방향 매핑보다는 다대일 양방향 매핑을 사용하자(양방향 매핑을 할 경우 외래키가 본인 테이블에 있어 문제가 되지 않는다.)
- 연관관계의 주인은 항상 다 쪽인 @MantToOne을 사용한 쪽이다. 

## 일대일 [1:1]
- 일대일 관계는 그 반대로 일다일 관계다. 
- 테이블 관계에서 일대다, 다대일은 항상 다쪽이 외래 키를 가진다. 반면에 일대일 관계는 주 테이블이나 대상 테이블 둘 중 어느 곳이나 외래 키를 가질 수 있다. 

## 다대다 [N:N]
정규화된 테이블 2개로 다대다 관계를 표현할 수 없다. 
그래서 보통 다대다 관계를 일대다, 다대일 관계로 풀어내는 연결 테이블을 사용한다. 
@ManyToMany
@JoinTable
- 연결 테이블에 복합 키를 사용하는 것은 복잡하다. (식별 관계)
- 다대다 일 때 테이터베이스에서 자동으로 생성해주는 대리키르 Long 값으로 사용한다. (비식별관계)
