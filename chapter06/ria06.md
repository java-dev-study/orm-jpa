## Chapter06 다양한 연관관계 매핑

### 6.1 다대일

- 다대일 관계의 반대 방향은 항상 일대다 관계고 일대다 관계의 반대 방향은 항상 다대일 관계임
- 양방향은 외래키가 있는 쪽이 연관관계 주인임
- JPA는 외래키를 관리할 때 연관관계 주인만 사용하고, 주인이 아닌 엔티티는 JPQL이나 객체 그래프 탐색 시 사용

### 6.2 일대다

- 일대다 단방향 관계 매핑 시 @JoinColumn을 명시해야함
  - 그렇지 않으면 JPA는 조인 테이블 전략을 기본으로 사용해서 매핑함
- 일대다 단방향 매핑의 단점은 매핑한 객체가 관리하는 외래 키가 다른 테이블에 있다는 것
- **일대다 단방향 매핑보다는 다대일 양방향 매핑을 권장함**
- 일대다 양방향 매핑은 존재하지 않음
  - 굳이 일대다 양방향 매핑을 할 경우 일대다 단방향 매핑 반대편에 다대일 단방향 매핑을 읽기 전용으로 추가하면됨

### 6.3 일대일

- 일대일 관계는 양쪽이 서로 하나의 관계만 가짐
- 주 테이블이나 대상 테이블 둘 중 어느 곳이나 외래키를 가질 수 있음

### 6.4 다대다

- 주로 다대다 관계는 일대다, 다대일 관계로 풀어내는 연결 테이블을 사용함